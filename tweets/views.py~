from django.shortcuts import render,render_to_response
from django.http import HttpResponseRedirect, HttpResponse
from django.views.decorators.csrf import csrf_protect
import oauth2 as oauth
import json

@csrf_protect
def tweets_list(request):
"""    if request.POST:
        tweets = []
        name = request.POST.get('name')
        count = request.GET.get('count')
        print name
        CONSUMER_KEY = "3AftlqM1umGMroSjZkpXr3GUH"
        CONSUMER_SECRET = "jchT7UAxWNcWlbyAFOkLgRSRcY56cDGuSLPMunAnW4ZouD91rm"
        ACCESS_KEY = "172601787-hgzlSicp47ARWKzYFvrjiiSPDBBvKbxwoVuvL9Q5"
        ACCESS_SECRET = "TznA0AKodZ2O7JI6lfz6PAM0lRDxtEtoHInP5ebU3sg37"
        consumer = oauth.Consumer(key=CONSUMER_KEY, secret=CONSUMER_SECRET)
        access_token = oauth.Token(key=ACCESS_KEY, secret=ACCESS_SECRET)
        client = oauth.Client(consumer, access_token)
        url= "https://api.twitter.com/1.1/statuses/user_timeline.json?screen_name="+str(name)+"&count="+str(count)
        resp, data = client.request(url)
        tweet = json.loads(data)
        for t in tweet:
            tweets.append(t['text'])      
        name=""
        return HttpResponse(name )
"""
    return render(request,'tweets/tweets_list.html',{})

def tweets_print(request):
    if request.method == 'POST':
        name = request.POST['name']
        count = request.POST['counti']
    return HttpResponse()
